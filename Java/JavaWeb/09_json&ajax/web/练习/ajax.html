<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="pragma" content="no-cache"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Insert title here</title>
    <script type="text/javascript">
        function ajaxRequest() {
            // 1、我们首先要创建XMLHttpRequest
            var xmlhttp = new XMLHttpRequest();

            // 2、调用open方法设置请求参数
            //第一个参数表示请求类型
            //第二个参数表示请求地址
            //第三个参数表示请求是否异步,true表示异步
            xmlhttp.open("GET", "http://localhost:8080/09_json&ajax/ajax?action=ajax", true)


            // 4、在send方法前绑定onreadystatechange事件，处理请求完成后的操作。

            xmlhttp.onreadystatechange = function (ev) {
                if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                    var jsonObj = JSON.parse(xmlhttp.responseText);
                    // 把响应的数据显示在页面上
                    document.getElementById("div01").innerHTML = "年龄：" + jsonObj.age + " , 姓名：" +
                        jsonObj.username;
                }
            }
            // 	3、调用send方法发送请求
            xmlhttp.send();
        }
    </script>
</head>
<body>
<button onclick="ajaxRequest()">ajax request</button>
<div id="div01">
</div>
</body>
</html>